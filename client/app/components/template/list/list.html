<div class="page-title">
  <div class="title">
    <h1>权限模板</h1>
  </div>
</div>
<div class="conter-wrapper track-list-wrapper">
  <div class="panel bp-panel-primary">
    <div class="panel-heading">
      <div class="panel-title">权限模板列表</div>
    </div>
    <div class="panel-body">
          <div class="bp-container">
            <div class="table-container">
              <div class="table-wrapper" ng-table="vm.tableParams">
                <table class="table table-striped table-bordered table-hover">
                  <thead>
                    <tr>
                      <th> 模板名称 </th>
                      <th> 状态 </th>
                      <th> 操作 </th>
                      <th> 模板描述 </th>
                      <th> 创建人 </th>
                      <th> 创建时间 </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr ng-repeat="row in $data track by $index">
                      <td> {{row.name}} </td>
                      <td> {{row.statusName}} </td>

                      <td>  
                          <!--<a ui-sref="templateedit({id:row.id})">View Contact</a>-->
                        <a class="btn bp-btn-default btn-xs" 
                          ng-click="vm.detail(row.rid)">查看</a>
                           <button class="btn bp-btn-default btn-xs" 
                            ng-click="vm.edit(row.rid)">修改</button>
                          <button class="btn bp-btn-default btn-xs" data-toggle="modal" data-target="#myModal_1" ng-click="vm.removeInfo($index,row)"> 
                          删除
                          </button>

                              <button  class="btn bp-btn-default btn-xs" data-toggle="modal" data-target="#myModal" ng-click="vm.changeStatusAlert(row)" ng-bind="row.status=='1'?'暂停':'启用'">
                              
                              </button>
                      </td>
                      <td> {{row.creator}} </td>
                      <td> {{row.createTime}} </td>
                      <td> {{row.description}} </td>
                     
                    </tr>
                   <tr class="lx-list-sp-tr" ng-if="!$data || !$data.length">
                      <td colspan="10" style="text-align: center">
                        <div class="text-center" ng-show="vm.loading">
                          <i  class="glyphicon glyphicon-refresh">数据加载中...</i>
                        </div>
                        <div class="text-center" ng-if="!vm.loading && (!$data || !$data.length)">
                          <i class="glyphicon glyphicon-remove"></i>您查询的条件错误或查询的结果不存在，请重新查询
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
                 <div class="panel-footer form-actions">
                    <button class="btn bp-btn-primary" type="button" ng-click="vm.creatnewTemplate()">创建新模板</button>
                </div>    
              </div>
            </div>
          </div>

  <!--冻结（Modal） -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
          &times;
        </button>
        <h4 class="modal-title" id="myModalLabel">
         SOP.ffan.com为您提示:
        </h4>
      </div>
      <div class="modal-body">
     <!--   <input type="text" id="id_right" ng-model="id_right"> -->
           <span id="alert1">该权限模板尚在使用中，不可删除! </span>
         <span id="alert2">是否确认要禁用/暂停该权限模板。 </span>
        
      </div>
        <div class="modal-footer" id="alert3">
          <button type="button" class="btn btn-default" data-dismiss="modal">确定
          </button>
        </div>
      <div class="modal-footer" id= "alert4">
        <button type="button" class="btn btn-primary" ng-click="vm.changeStatus()">
          确定
        </button>
        <button type="button" class="btn btn-default" data-dismiss="modal">取消
        </button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal -->
</div>
<!-- end -->

  <!--删除（Modal） -->
<div class="modal fade" id="myModal_1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
          &times;
        </button>
        <h4 class="modal-title" id="myModalLabel">
         SOP.ffan.com为您提示:
        </h4>
      </div>

      <div class="modal-body">
      <span id="msg1">该权限模板尚在使用中，不可删除! </span>
       <span id="msg2">是否确认要删除该权限模板。 </span>
      
      </div>
      <div class="modal-footer" id="msg3">
          <button type="button" class="btn btn-default" data-dismiss="modal">确定
          </button>
        </div>
      <div class="modal-footer" id="msg4">
        <button type="button"  class="btn btn-default" data-dismiss="modal" ng-click="vm.remove_role()">
          确定
        </button>
        <button type="button" class="btn btn-default" data-dismiss="modal">取消
        </button>

      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal -->
</div>
<!-- end -->


</div>
</div>

</div>