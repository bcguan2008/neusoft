<div class="page-title">
  <div class="title">
    <h1>员工激励</h1>
  </div>
</div>
<div class="conter-wrapper track-list-wrapper">
  <div class="panel bp-panel-primary">
    <div class="panel-heading">
      <div class="panel-title">员工查询</div>
    </div>
    <div class="panel-body">
      <form action="">
      <div class="row">
        <div class="col-md-3 form-group">
            <label>员工姓名</label>
             <input type="text" class="form-control" ng-model="vm.staff.sname" required  id="staffphone_id">
        
        </div>
        <div class="col-md-3 col-md-offset-1 form-group">
          <label>绑定模板</label>
          <select class="form-control"
              ng-options="option.template_name for option in vm.template track by option.business_code"
              ng-model="vm.staff.template"></select>
        </div>
   
      </div>

      <div class="row">
        <div class="col-md-3 form-group">
             
             <label>手机号</label>
             <input type="text" class="form-control" ng-model="vm.staff.phone" required  id="staffphone_id">
        </div>
        <div class="col-md-3 col-md-offset-1 form-group">
          <label>员工状态</label>
             <select class="form-control"
              ng-options="option.page_type_name for option in vm.staff track by option.id"
              ng-model="vm.staff.sname"></select>
        </div>
       
      </div>
      <div class="row">
        
        <div class="col-md-9  form-group">
          
         <div class="col-md-2  form-group">
             <label>筛选条件</label>
          </div> 
            <div class="col-md-2 form-group">
              <select class="form-control"
              ng-options="option.page_type_name for option in vm.staff track by option.id"
              ng-model="vm.staff.area">
              <option value="">区域</option>
              </select>
            </div>
            <div class="col-md-2 form-group">
                <select class="form-control"
              ng-options="option.page_type_name for option in vm.staff track by option.id"
              ng-model="vm.staff.square">
              <option value="">广场</option>
              </select>
            </div>
            <div class="col-md-2 form-group">
              <select class="form-control"
              ng-options="option.page_type_name for option in vm.staff track by option.id"
              ng-model="vm.staff.brand">
              <option value="">品牌</option>
              </select>
            </div>
            <div class="col-md-2 form-group">
                <select class="form-control"
              ng-options="option.page_type_name for option in vm.staff track by option.id"
              ng-model="vm.staff.store">
              <option value="">门店</option>
              </select>
              </div>
      </div>
    </div>
    <div class="panel-footer panel-footer-btn-center">
          <button class="btn bp-btn-primary" type="button" 
        ng-disabled="vm.loading"
        ng-click="vm.createpage()">新增员工账号</button>

      <button class="btn bp-btn-primary" type="button" 
        ng-disabled="vm.loading"
        ng-click="vm.search()">查询</button>
    </div>
    </form>
  </div>
</div>



  <div class="panel bp-panel-primary">
    <div class="panel-heading">
      <div class="panel-title">员工查询</div>
    </div>
    <div class="panel-body">
          <div class="bp-container">
            <div class="table-container">
              <div class="table-wrapper" ng-table="vm.tableParams">
                <table class="table table-striped table-hover">
                  <thead>
                    <tr>
                      <th> 姓名 </th>
                      <th> 手机号 </th>
                      <th> 创建人 </th>
                      <th> 创建时间 </th>
                      <th> 所在门店 </th>
                      <th> 对应权限 </th>
                      <th> 员工状态 </th>
                      <th> 操作 </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr ng-repeat="row in $data track by $index">

                      <td> {{row.track_code}} </td>
                      <td> {{row.track_page_type_name}} </td>
                      <td> {{row.business_name}} </td>
                      <td> {{row.page_name}} </td>
                      <td> {{row.button_name}} </td>
                      <td> {{row.create_name}} </td>
                      <td> {{row.update_time}} </td>
                      <td> 
                        <a class="btn bp-btn-default btn-xs" 
                          ng-click="vm.detail(row.id)">查看</a>
                        <button class="btn bp-btn-default btn-xs" 
                          ng-if="vm.auths.onLine"
                          ng-disabled="row.status !== 30"
                          ng-click="vm.online(row.id)">冻结</button>
                        <button class="btn bp-btn-default btn-xs" 
                          ng-if="vm.auths.offLine"
                          ng-disabled="row.status !== 40"
                          ng-click="vm.offline(row.id)">修改</button>
                      </td>
                    </tr>
                    <tr class="lx-list-sp-tr" ng-if="!$data || !$data.length">
                      <td colspan="10" style="text-align: center">
                        <div class="text-center" ng-show="vm.loading">
                          <i  class="glyphicon glyphicon-refresh">数据加载中...</i>
                        </div>
                        <div class="text-center" ng-if="!vm.loading && (!$data || !$data.length)">
                          <i class="glyphicon glyphicon-remove"></i>您查询的条件错误或查询的结果不存在，请重新查询
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
</div>
</div>
</div>